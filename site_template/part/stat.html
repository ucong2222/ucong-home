<div class="con-min-width stat-content">
    <div class="con">
      <div class="stat-content__articles-count">
        <div class="stat-content__title">게시물수 통계</div>
        <div class="chart-container">
          <div class="stat-content__total-count">Total : ${article-stat__totalArticlesCount}</div>
          <canvas id="pie-chart-1"></canvas>
        </div>
      </div>

      <div class="stat-content__hits-count">
        <div class="stat-content__title">조회수 통계</div>
        <div class="chart-container">
          <div class="stat-content__total-count">Total : ${article-stat__totalArticlesHit}</div>
          <canvas id="pie-chart-2"></canvas>
        </div>
      </div>
    </div>
</div>

<script>
var data = {
  datasets: [
    {
      data: [${article-stat__boardArticlesCount}],
      backgroundColor: ["#F5A0A0", "#FAD291", "#70D2B4", "#5ABEFF"]
    }
  ],
  labels: ["JAVA", "MYSQL", "HTML/CSS", "개발일지"]
};

var targetLink = [
  "https://blog.heycong.com/article_list_java_1.html",
  "https://blog.heycong.com/article_list_mysql_1.html",
  "https://blog.heycong.com/article_list_publishing_1.html",
  "https://blog.heycong.com/article_list_devlog_1.html"
];

$(document).ready(function () {
  var canvas = document.getElementById("pie-chart-1");
  var ctx = canvas.getContext("2d");
  var myNewChart = new Chart(ctx, {
    type: "doughnut",
    data: data
  });

  canvas.onclick = function (evt) {
    var activePoints = myNewChart.getElementsAtEvent(evt);
    if (activePoints[0]) {
      var chartData = activePoints[0]["_chart"].config.data;
      var idx = activePoints[0]["_index"];

      var target = targetLink[idx];
      window.open(target, "_blank");
    }
  };
});

var data2 = {
  datasets: [
    {
      data: [${article-stat__boardArticlesHit}],
      backgroundColor: ["#F5A0A0", "#FAD291", "#70D2B4", "#5ABEFF"]
    }
  ],
  labels: ["JAVA", "MYSQL", "HTML/CSS", "개발일지"]
};

var targetLink = [
  "https://blog.heycong.com/article_list_java_1.html",
  "https://blog.heycong.com/article_list_mysql_1.html",
  "https://blog.heycong.com/article_list_publishing_1.html",
  "https://blog.heycong.com/article_list_devlog_1.html"
];

$(document).ready(function () {
  var canvas = document.getElementById("pie-chart-2");
  var ctx = canvas.getContext("2d");
  var myNewChart = new Chart(ctx, {
    type: "doughnut",
    data: data2
  });

  canvas.onclick = function (evt) {
    var activePoints = myNewChart.getElementsAtEvent(evt);
    if (activePoints[0]) {
      var chartData = activePoints[0]["_chart"].config.data;
      var idx = activePoints[0]["_index"];

      var target = targetLink[idx];
      window.open(target, "_blank");
    }
  };
});
</script>